{
  "_format": "hh-sol-artifact-1",
  "contractName": "PaymentScheduler",
  "sourceName": "contracts/core/PaymentScheduler.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "vault_",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "policy_",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyExecuted",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAddress",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidPaymentId",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotDueYet",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "paymentId",
          "type": "uint256"
        }
      ],
      "name": "PaymentExecuted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "paymentId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "executeAfter",
          "type": "uint256"
        }
      ],
      "name": "PaymentScheduled",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "paymentId",
          "type": "uint256"
        }
      ],
      "name": "executePayment",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "payments",
      "outputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "executeAfter",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "executed",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paymentsCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "policy",
      "outputs": [
        {
          "internalType": "contract IPolicyEngine",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "executeAfter",
          "type": "uint256"
        }
      ],
      "name": "schedulePayment",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "vault",
      "outputs": [
        {
          "internalType": "contract ITreasuryVault",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5060405162000e2338038062000e23833981810160405281019061003491906101bd565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16148061009b5750600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16145b156100d2576040517fe6c4247b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050506101fd565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061018a8261015f565b9050919050565b61019a8161017f565b81146101a557600080fd5b50565b6000815190506101b781610191565b92915050565b600080604083850312156101d4576101d361015a565b5b60006101e2858286016101a8565b92505060206101f3858286016101a8565b9150509250929050565b610c16806200020d6000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c80630505c8c914610067578063162a0cf81461008557806362d778ae146100a157806387d81789146100d1578063aafab1e814610105578063fbfa77cf14610123575b600080fd5b61006f610141565b60405161007c9190610853565b60405180910390f35b61009f600480360381019061009a91906108a9565b610167565b005b6100bb60048036038101906100b69190610914565b610468565b6040516100c8919061098a565b60405180910390f35b6100eb60048036038101906100e691906108a9565b610710565b6040516100fc9594939291906109cf565b60405180910390f35b61010d6107a3565b60405161011a919061098a565b60405180910390f35b61012b6107b0565b6040516101389190610a43565b60405180910390f35b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60028054905081106101a5576040517fb11be8c400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000600282815481106101bb576101ba610a5e565b5b906000526020600020906005020190508060040160009054906101000a900460ff1615610214576040517f0dc1019700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8060030154421015610252576040517f7d5fa48800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166376313e568260000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1683600201548460010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040518463ffffffff1660e01b81526004016102fd93929190610a8d565b602060405180830381865afa15801561031a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061033e9190610af0565b5060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638bfb07c98260000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168360010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1684600201546040518463ffffffff1660e01b81526004016103e893929190610b1d565b600060405180830381600087803b15801561040257600080fd5b505af1158015610416573d6000803e3d6000fd5b5050505060018160040160006101000a81548160ff021916908315150217905550817f2cf6e39c4fd468d6db1351b49285bf581266eef03ee0619df3ae93af0e62e7d760405160405180910390a25050565b60008073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614806104d05750600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16145b15610507576040517fe6c4247b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60008303610541576040517f2c5211c600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60026040518060a001604052808773ffffffffffffffffffffffffffffffffffffffff1681526020018673ffffffffffffffffffffffffffffffffffffffff16815260200185815260200184815260200160001515815250908060018154018082558091505060019003906000526020600020906005020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201556060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555050506000600160028054905061069a9190610b83565b90508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff16827fd361c29da35db0d9dc8512d72692d9f5204dc704e91ab1d8d28359f08164c63e87876040516106fc929190610bb7565b60405180910390a480915050949350505050565b6002818154811061072057600080fd5b90600052602060002090600502016000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020154908060030154908060040160009054906101000a900460ff16905085565b6000600280549050905090565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600061081961081461080f846107d4565b6107f4565b6107d4565b9050919050565b600061082b826107fe565b9050919050565b600061083d82610820565b9050919050565b61084d81610832565b82525050565b60006020820190506108686000830184610844565b92915050565b600080fd5b6000819050919050565b61088681610873565b811461089157600080fd5b50565b6000813590506108a38161087d565b92915050565b6000602082840312156108bf576108be61086e565b5b60006108cd84828501610894565b91505092915050565b60006108e1826107d4565b9050919050565b6108f1816108d6565b81146108fc57600080fd5b50565b60008135905061090e816108e8565b92915050565b6000806000806080858703121561092e5761092d61086e565b5b600061093c878288016108ff565b945050602061094d878288016108ff565b935050604061095e87828801610894565b925050606061096f87828801610894565b91505092959194509250565b61098481610873565b82525050565b600060208201905061099f600083018461097b565b92915050565b6109ae816108d6565b82525050565b60008115159050919050565b6109c9816109b4565b82525050565b600060a0820190506109e460008301886109a5565b6109f160208301876109a5565b6109fe604083018661097b565b610a0b606083018561097b565b610a1860808301846109c0565b9695505050505050565b6000610a2d82610820565b9050919050565b610a3d81610a22565b82525050565b6000602082019050610a586000830184610a34565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6000606082019050610aa260008301866109a5565b610aaf602083018561097b565b610abc60408301846109a5565b949350505050565b610acd816109b4565b8114610ad857600080fd5b50565b600081519050610aea81610ac4565b92915050565b600060208284031215610b0657610b0561086e565b5b6000610b1484828501610adb565b91505092915050565b6000606082019050610b3260008301866109a5565b610b3f60208301856109a5565b610b4c604083018461097b565b949350505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610b8e82610873565b9150610b9983610873565b9250828203905081811115610bb157610bb0610b54565b5b92915050565b6000604082019050610bcc600083018561097b565b610bd9602083018461097b565b939250505056fea2646970667358221220ea80adfa2b3b84d1d762258503cf26393873bfecb5afa3671356c463c2f2a76b64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c80630505c8c914610067578063162a0cf81461008557806362d778ae146100a157806387d81789146100d1578063aafab1e814610105578063fbfa77cf14610123575b600080fd5b61006f610141565b60405161007c9190610853565b60405180910390f35b61009f600480360381019061009a91906108a9565b610167565b005b6100bb60048036038101906100b69190610914565b610468565b6040516100c8919061098a565b60405180910390f35b6100eb60048036038101906100e691906108a9565b610710565b6040516100fc9594939291906109cf565b60405180910390f35b61010d6107a3565b60405161011a919061098a565b60405180910390f35b61012b6107b0565b6040516101389190610a43565b60405180910390f35b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60028054905081106101a5576040517fb11be8c400000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6000600282815481106101bb576101ba610a5e565b5b906000526020600020906005020190508060040160009054906101000a900460ff1615610214576040517f0dc1019700000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b8060030154421015610252576040517f7d5fa48800000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166376313e568260000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1683600201548460010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166040518463ffffffff1660e01b81526004016102fd93929190610a8d565b602060405180830381865afa15801561031a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061033e9190610af0565b5060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638bfb07c98260000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168360010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1684600201546040518463ffffffff1660e01b81526004016103e893929190610b1d565b600060405180830381600087803b15801561040257600080fd5b505af1158015610416573d6000803e3d6000fd5b5050505060018160040160006101000a81548160ff021916908315150217905550817f2cf6e39c4fd468d6db1351b49285bf581266eef03ee0619df3ae93af0e62e7d760405160405180910390a25050565b60008073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff1614806104d05750600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16145b15610507576040517fe6c4247b00000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60008303610541576040517f2c5211c600000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60026040518060a001604052808773ffffffffffffffffffffffffffffffffffffffff1681526020018673ffffffffffffffffffffffffffffffffffffffff16815260200185815260200184815260200160001515815250908060018154018082558091505060019003906000526020600020906005020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550604082015181600201556060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555050506000600160028054905061069a9190610b83565b90508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff16827fd361c29da35db0d9dc8512d72692d9f5204dc704e91ab1d8d28359f08164c63e87876040516106fc929190610bb7565b60405180910390a480915050949350505050565b6002818154811061072057600080fd5b90600052602060002090600502016000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020154908060030154908060040160009054906101000a900460ff16905085565b6000600280549050905090565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600061081961081461080f846107d4565b6107f4565b6107d4565b9050919050565b600061082b826107fe565b9050919050565b600061083d82610820565b9050919050565b61084d81610832565b82525050565b60006020820190506108686000830184610844565b92915050565b600080fd5b6000819050919050565b61088681610873565b811461089157600080fd5b50565b6000813590506108a38161087d565b92915050565b6000602082840312156108bf576108be61086e565b5b60006108cd84828501610894565b91505092915050565b60006108e1826107d4565b9050919050565b6108f1816108d6565b81146108fc57600080fd5b50565b60008135905061090e816108e8565b92915050565b6000806000806080858703121561092e5761092d61086e565b5b600061093c878288016108ff565b945050602061094d878288016108ff565b935050604061095e87828801610894565b925050606061096f87828801610894565b91505092959194509250565b61098481610873565b82525050565b600060208201905061099f600083018461097b565b92915050565b6109ae816108d6565b82525050565b60008115159050919050565b6109c9816109b4565b82525050565b600060a0820190506109e460008301886109a5565b6109f160208301876109a5565b6109fe604083018661097b565b610a0b606083018561097b565b610a1860808301846109c0565b9695505050505050565b6000610a2d82610820565b9050919050565b610a3d81610a22565b82525050565b6000602082019050610a586000830184610a34565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6000606082019050610aa260008301866109a5565b610aaf602083018561097b565b610abc60408301846109a5565b949350505050565b610acd816109b4565b8114610ad857600080fd5b50565b600081519050610aea81610ac4565b92915050565b600060208284031215610b0657610b0561086e565b5b6000610b1484828501610adb565b91505092915050565b6000606082019050610b3260008301866109a5565b610b3f60208301856109a5565b610b4c604083018461097b565b949350505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610b8e82610873565b9150610b9983610873565b9250828203905081811115610bb157610bb0610b54565b5b92915050565b6000604082019050610bcc600083018561097b565b610bd9602083018461097b565b939250505056fea2646970667358221220ea80adfa2b3b84d1d762258503cf26393873bfecb5afa3671356c463c2f2a76b64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
